<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script type="module">
        import { navigateTo } from '../assets/js/utils/path-helper.js';
        
        // This script handles redirects for SPA routes in development environment
        (function() {
            // Configuration for local development
            const isLocalDevelopment = true; // Set to true when using Live Server

            // Get the path that was requested
            var path = window.location.pathname;
            var cleanPath = path.endsWith('/') ? path.slice(0, -1) : path;
            
            console.log('404 handler - Requested path:', path);
            
            // Map clean routes to their corresponding HTML files
            var routesToFiles = {
                '/app': 'app.html',
                '/privacy': 'privacy-policy.html',
                '/terms': 'terms-of-service.html',
                '/stats': 'stats.html',
                '/devices': 'devices.html'
            };
            
            // Check if we have a mapping for this path
            if (routesToFiles[cleanPath]) {
                const targetFile = routesToFiles[cleanPath];
                console.log('Redirecting from ' + cleanPath + ' to ' + targetFile);
                navigateTo(targetFile);
            } else {
                // Default to index for unknown routes
                console.log('Unknown route: ' + cleanPath + ', redirecting to index.html');
                navigateTo('index.html');
            }
        })();
    </script>
</head>
<body>
    <p>Redirecting...</p>
</body>
</html> 